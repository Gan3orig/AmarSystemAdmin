"use strict";(self.webpackChunk_coreui_AmarSystem=self.webpackChunk_coreui_AmarSystem||[]).push([[3181],{83181:(e,s,r)=>{r.r(s),r.d(s,{default:()=>S});var a=r(3550),l=r(99597),t=r(85961),o=r(3354),i=r(3526),n=r(44101),c=r(44227),d=r(80861),h=r(96105),m=r(81917),u=r(85504),x=r(30347),j=r(10825),p=r(25917),g=r(84709),y=r(97929),v=r(83910),b=r(65043),w=r(73216),f=r(35475),C=r(74117),N=r(70579);const S=()=>{const{t:e}=(0,C.Bd)(),[s,r]=(0,b.useState)(""),[S,k]=(0,b.useState)(""),[A,P]=(0,b.useState)(""),[B,L]=(0,b.useState)(""),[O,_]=(0,b.useState)(""),[T,q]=(0,b.useState)(""),[E,M]=(0,b.useState)(""),Z=(0,w.Zp)(),[I,Q]=(0,b.useState)(!1),U=()=>{r(""),k(""),_(""),P(""),L("")};return(0,N.jsx)("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:(0,N.jsx)(i.T,{children:(0,N.jsx)(n.s,{className:"justify-content-center",children:(0,N.jsx)(c.U,{md:9,lg:7,xl:6,children:(0,N.jsx)(d.E,{className:"mx-4",children:(0,N.jsx)(h.W,{className:"p-4",children:(0,N.jsxs)(m.q,{onSubmit:async r=>{if(r.preventDefault(),!s||!S||!A||!B)return void q(e("error.fieldsRequired"));if(A!==B)return void q(e("error.passwordMismatch"));q("");const a={name:s,email:S,phone:O,password:A,deviceIdentityInfo:"string",userAgent:navigator.userAgent},l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};try{const s=await fetch("https://api.majorsoft.mn/api/login/createUser",l);if(!s.ok){const r=(await s.json()).message||e("error.general");throw new Error(r)}const r=await s.json();r.Success?(M(r.message||"\u0411\u04af\u0440\u0442\u0433\u044d\u0433\u0434\u043b\u044d\u044d, E-Mail \u0445\u0430\u044f\u0433\u0430\u0430 \u0431\u0430\u0442\u0430\u043b\u0433\u0430\u0430\u0436\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439"),U(),setTimeout((()=>{Z("/login")}),1e3)):q(r.message||e("error.general"))}catch(T){console.error("Error:",T),q(T.message||e("error.general"))}},children:[(0,N.jsx)("h1",{children:e("register.title")}),(0,N.jsx)("p",{className:"text-body-secondary",children:e("register.subtitle")}),(0,N.jsxs)(u.B,{className:"mb-3",children:[(0,N.jsx)(x.s,{children:(0,N.jsx)(o.Ay,{icon:a.o})}),(0,N.jsx)(j.O,{placeholder:e("register.namePlaceholder"),autoComplete:"username",value:s,onChange:e=>r(e.target.value)})]}),(0,N.jsxs)(u.B,{className:"mb-3",children:[(0,N.jsx)(x.s,{children:"@"}),(0,N.jsx)(j.O,{placeholder:e("register.emailPlaceholder"),autoComplete:"email",value:S,onChange:e=>k(e.target.value)})]}),(0,N.jsxs)(u.B,{className:"mb-3",children:[(0,N.jsx)(x.s,{children:(0,N.jsx)(o.Ay,{icon:l.L})}),(0,N.jsx)(j.O,{placeholder:e("register.phonePlaceholder"),autoComplete:"Phone_number",value:O,onChange:e=>_(e.target.value)})]}),(0,N.jsxs)(u.B,{className:"mb-3",children:[(0,N.jsx)(x.s,{children:(0,N.jsx)(o.Ay,{icon:t.q})}),(0,N.jsx)(j.O,{type:I?"text":"password",placeholder:e("register.passwordPlaceholder"),autoComplete:"new-password",value:A,onChange:e=>P(e.target.value)})]}),(0,N.jsxs)(u.B,{className:"mb-4",children:[(0,N.jsx)(x.s,{children:(0,N.jsx)(o.Ay,{icon:t.q})}),(0,N.jsx)(j.O,{type:I?"text":"password",placeholder:e("register.confirmPasswordPlaceholder"),autoComplete:"new-password",value:B,onChange:e=>L(e.target.value)}),(0,N.jsx)(x.s,{onClick:()=>{Q(!I)},style:{cursor:"pointer"},children:(0,N.jsx)(v.g,{icon:I?y.k6j:y.pS3})})]}),E&&(0,N.jsx)(p.k,{color:"success",dismissible:!0,onClose:()=>M(""),children:E}),T&&(0,N.jsx)(p.k,{color:"danger",dismissible:!0,onClose:()=>q(""),children:T}),(0,N.jsx)("div",{className:"d-grid",children:(0,N.jsx)(g.Q,{color:"primary",type:"submit",children:e("register.submitButton")})}),(0,N.jsx)("div",{className:"d-grid",children:(0,N.jsx)(f.N_,{to:"/login",children:(0,N.jsx)(g.Q,{color:"link",className:"px-0",children:e("backToLogin")})})})]})})})})})})})}},99597:(e,s,r)=>{r.d(s,{L:()=>a});var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=3181.5e7a1285.chunk.js.map