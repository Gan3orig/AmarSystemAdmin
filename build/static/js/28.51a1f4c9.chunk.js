"use strict";(self.webpackChunk_coreui_AmarSystem=self.webpackChunk_coreui_AmarSystem||[]).push([[28],{20028:(n,e,t)=>{t.r(e),t.d(e,{default:()=>U});var r=t(65043);const o=1;const u=(0,r.createContext)(null),c=u.Provider;function i(){const n=(0,r.useContext)(u);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}var a=t(80228),l=t.n(a);function s(){return s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},s.apply(this,arguments)}function f(n,e){let{bounds:t,boundsOptions:u,center:i,children:l,className:f,id:p,placeholder:d,style:A,whenReady:m,zoom:h,...v}=n;const[g]=(0,r.useState)({className:f,id:p,style:A}),[w,x]=(0,r.useState)(null);(0,r.useImperativeHandle)(e,(()=>{var n;return null!==(n=null===w||void 0===w?void 0:w.map)&&void 0!==n?n:null}),[w]);const C=(0,r.useCallback)((n=>{if(null!==n&&null===w){const e=new a.Map(n,v);null!=i&&null!=h?e.setView(i,h):null!=t&&e.fitBounds(t,u),null!=m&&e.whenReady(m),x(function(n){return Object.freeze({__version:o,map:n})}(e))}}),[]);(0,r.useEffect)((()=>()=>{null===w||void 0===w||w.map.remove()}),[w]);const b=w?r.createElement(c,{value:w},l):null!==d&&void 0!==d?d:null;return r.createElement("div",s({},g,{ref:C}),b)}const p=(0,r.forwardRef)(f);var d=t(97950);function A(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function m(n,e){return null==e?function(e,t){const o=(0,r.useRef)();return o.current||(o.current=n(e,t)),o}:function(t,o){const u=(0,r.useRef)();u.current||(u.current=n(t,o));const c=(0,r.useRef)(t),{instance:i}=u.current;return(0,r.useEffect)((function(){c.current!==t&&(e(i,t,c.current),c.current=t)}),[i,t,o]),u}}function h(n,e){const t=(0,r.useRef)(e);(0,r.useEffect)((function(){e!==t.current&&null!=n.attributionControl&&(null!=t.current&&n.attributionControl.removeAttribution(t.current),null!=e&&n.attributionControl.addAttribution(e)),t.current=e}),[n,e])}function v(n,e){const t=(0,r.useRef)();(0,r.useEffect)((function(){return null!=e&&n.instance.on(e),t.current=e,function(){null!=t.current&&n.instance.off(t.current),t.current=null}}),[n,e])}function g(n,e){var t;const r=null!==(t=n.pane)&&void 0!==t?t:e.pane;return r?{...n,pane:r}:n}function w(n){return function(e){const t=i(),o=n(g(e,t),t);return h(t.map,e.attribution),v(o.current,e.eventHandlers),function(n,e){(0,r.useEffect)((function(){var t;return(null!==(t=e.layerContainer)&&void 0!==t?t:e.map).addLayer(n.instance),function(){var t;null===(t=e.layerContainer)||void 0===t||t.removeLayer(n.instance),e.map.removeLayer(n.instance)}}),[e,n])}(o.current,t),o}}const x=function(n){function e(e,t){const{instance:o}=n(e).current;return(0,r.useImperativeHandle)(t,(()=>o)),null}return(0,r.forwardRef)(e)}(w(m((function(n,e){let{url:t,...r}=n;return A(new a.TileLayer(t,g(r,e)),e)}),(function(n,e,t){!function(n,e,t){const{opacity:r,zIndex:o}=e;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}(n,e,t);const{url:r}=e;null!=r&&r!==t.url&&n.setUrl(r)}))));const C=function(n,e){return function(n){function e(e,t){const{instance:o,context:u}=n(e).current;return(0,r.useImperativeHandle)(t,(()=>o)),null==e.children?null:r.createElement(c,{value:u},e.children)}return(0,r.forwardRef)(e)}(w(m(n,e)))}((function(n,e){let{position:t,...r}=n;const o=new a.Marker(t,r);return A(o,(u=e,c={overlayContainer:o},Object.freeze({...u,...c})));var u,c}),(function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())})),b=function(n,e){const t=function(n,e){return function(t,r){const o=i(),u=n(g(t,o),o);return h(o.map,t.attribution),v(u.current,t.eventHandlers),e(u.current,o,t,r),u}}(m(n),e);return function(n){function e(e,t){const[o,u]=(0,r.useState)(!1),{instance:c}=n(e,u).current;(0,r.useImperativeHandle)(t,(()=>c)),(0,r.useEffect)((function(){o&&c.update()}),[c,o,e.children]);const i=c._contentNode;return i?(0,d.createPortal)(e.children,i):null}return(0,r.forwardRef)(e)}(t)}((function(n,e){return A(new a.Popup(n,e.overlayContainer),e)}),(function(n,e,t,o){let{position:u}=t;(0,r.useEffect)((function(){const{instance:t}=n;function r(n){n.popup===t&&(t.update(),o(!0))}function c(n){n.popup===t&&o(!1)}return e.map.on({popupopen:r,popupclose:c}),null==e.overlayContainer?(null!=u&&t.setLatLng(u),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){var n;e.map.off({popupopen:r,popupclose:c}),null===(n=e.overlayContainer)||void 0===n||n.unbindPopup(),e.map.removeLayer(t)}}),[n,e,o,u])})),y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrElEQVR4nL2Sy0tCQRTGhxYtWtQiWtUqdMbMXrQuCiJoYRAEbYMgaFuLlvZP9PDOmEaUcUFn1MhCCoIowkrdmYtWRUZBkbTtxLmgKCJeH/TBB+fOOffHN+deQv5bmiXQ46HBGbTPGumuGyRsAYdg8lwwBXlzJn85kzGtL9RfG8yqxgVVuWJYianKaVY5Zgrm7tU7BFNv3qEIXK7fl8HwzDcYAUFldt9y0l4VyJlcwxcTW2nI3n0AgvMwrLMPH/Cwmc4nXa1+XapOvY4wfD59Q3TpGnbtYUjuPEJiOw279hDEVm6NHs4IJqPVE1IZPxw7hdzLD/gnziA4e2HU6KDzAvTpmFHjDM4SEwkPvQNh+CokDBnpcAVYny3fGD0jIVUHZhIu4H5SWsbYoW/4uGSHr/F3SLkzxrPG1HxVoG7XWzmVL76RCFxtJMu+Mp5hjzP5jLPEjDxULlX8BwuWi8SsXMTVIqi6qwTjTCVxhtQiwdRkJaDHqqZqguUlmDoqTyf9pF7t2YKdnMrXIuCbx6J3kUbEmXQWXXWuIRgpQJUQTPGmwFDu0XAbumnAWvQHfbV4YFv9KbAAAAAASUVORK5CYII=",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";var I=t(70579);delete l().Icon.Default.prototype._getIconUrl,l().Icon.Default.mergeOptions({iconUrl:y,shadowUrl:S,iconSize:[20,20],shadowSize:[12,12]});const U=()=>{const[n,e]=(0,r.useState)([]),t=new(l().Icon)({iconUrl:y,iconSize:[20,20],iconAnchor:[21,21],popupAnchor:[1,-34],shadowUrl:S,shadowSize:[12,12]});return(0,r.useEffect)((()=>{(async()=>{const n=localStorage.getItem("token");try{const t=await fetch("https://api.majorsoft.mn/api/terminalMap",{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(t.ok){const n=await t.json();e(n)}else console.error("Failed to fetch locations:",t.status)}catch(t){console.error("Error fetching locations:",t)}})()}),[]),(0,I.jsxs)(p,{center:[47,106],zoom:6,style:{height:"80vh",width:"100%"},children:[(0,I.jsx)(x,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n.map((n=>(0,I.jsx)(C,{position:[n.locationLat,n.locationLng],icon:t,children:(0,I.jsxs)(b,{children:[(0,I.jsx)("strong",{children:n.businessName}),(0,I.jsx)("br",{}),n.entityName,(0,I.jsx)("br",{}),"\u2706",n.phone1,",",n.phone2,(0,I.jsx)("br",{}),"\xae",n.registerNo,(0,I.jsx)("br",{}),n.createDate]})},n.terminalId)))]})}}}]);
//# sourceMappingURL=28.51a1f4c9.chunk.js.map