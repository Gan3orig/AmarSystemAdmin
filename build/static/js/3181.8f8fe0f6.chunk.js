"use strict";(self.webpackChunk_coreui_AmarSystem=self.webpackChunk_coreui_AmarSystem||[]).push([[3181],{83181:(e,s,r)=>{r.r(s),r.d(s,{default:()=>S});var a=r(3550),t=r(99597),l=r(85961),o=r(3354),n=r(3526),i=r(44101),c=r(44227),d=r(80861),h=r(96105),m=r(81917),u=r(85504),p=r(30347),x=r(10825),j=r(25917),g=r(84709),y=r(97929),v=r(83910),b=r(65043),w=r(73216),f=r(74117),C=r(70579);const S=()=>{const{t:e}=(0,f.Bd)(),[s,r]=(0,b.useState)(""),[S,N]=(0,b.useState)(""),[A,k]=(0,b.useState)(""),[P,B]=(0,b.useState)(""),[O,L]=(0,b.useState)(""),[_,q]=(0,b.useState)(""),[T,E]=(0,b.useState)(""),Z=(0,w.Zp)(),[I,M]=(0,b.useState)(!1),U=()=>{r(""),N(""),L(""),k(""),B("")};return(0,C.jsx)("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:(0,C.jsx)(n.T,{children:(0,C.jsx)(i.s,{className:"justify-content-center",children:(0,C.jsx)(c.U,{md:9,lg:7,xl:6,children:(0,C.jsx)(d.E,{className:"mx-4",children:(0,C.jsx)(h.W,{className:"p-4",children:(0,C.jsxs)(m.q,{onSubmit:async r=>{if(r.preventDefault(),!s||!S||!A||!P)return void q(e("error.fieldsRequired"));if(A!==P)return void q(e("error.passwordMismatch"));q("");const a={name:s,email:S,phone:O,password:A,deviceIdentityInfo:"string",userAgent:navigator.userAgent},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};try{const s=await fetch("https://api.majorsoft.mn/api/login/createUser",t);if(!s.ok){const r=(await s.json()).message||e("error.general");throw new Error(r)}const r=await s.json();r.Success?(E(r.message||"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0431\u04af\u0440\u0442\u0433\u044d\u0433\u0434\u043b\u044d\u044d"),U(),setTimeout((()=>{Z("/login")}),1e3)):q(r.message||e("error.general"))}catch(_){console.error("Error:",_),q(_.message||e("error.general"))}},children:[(0,C.jsx)("h1",{children:e("register.title")}),(0,C.jsx)("p",{className:"text-body-secondary",children:e("register.subtitle")}),(0,C.jsxs)(u.B,{className:"mb-3",children:[(0,C.jsx)(p.s,{children:(0,C.jsx)(o.Ay,{icon:a.o})}),(0,C.jsx)(x.O,{placeholder:e("register.namePlaceholder"),autoComplete:"username",value:s,onChange:e=>r(e.target.value)})]}),(0,C.jsxs)(u.B,{className:"mb-3",children:[(0,C.jsx)(p.s,{children:"@"}),(0,C.jsx)(x.O,{placeholder:e("register.emailPlaceholder"),autoComplete:"email",value:S,onChange:e=>N(e.target.value)})]}),(0,C.jsxs)(u.B,{className:"mb-3",children:[(0,C.jsx)(p.s,{children:(0,C.jsx)(o.Ay,{icon:t.L})}),(0,C.jsx)(x.O,{placeholder:e("register.phonePlaceholder"),autoComplete:"Phone_number",value:O,onChange:e=>L(e.target.value)})]}),(0,C.jsxs)(u.B,{className:"mb-3",children:[(0,C.jsx)(p.s,{children:(0,C.jsx)(o.Ay,{icon:l.q})}),(0,C.jsx)(x.O,{type:I?"text":"password",placeholder:e("register.passwordPlaceholder"),autoComplete:"new-password",value:A,onChange:e=>k(e.target.value)})]}),(0,C.jsxs)(u.B,{className:"mb-4",children:[(0,C.jsx)(p.s,{children:(0,C.jsx)(o.Ay,{icon:l.q})}),(0,C.jsx)(x.O,{type:I?"text":"password",placeholder:e("register.confirmPasswordPlaceholder"),autoComplete:"new-password",value:P,onChange:e=>B(e.target.value)}),(0,C.jsx)(p.s,{onClick:()=>{M(!I)},style:{cursor:"pointer"},children:(0,C.jsx)(v.g,{icon:I?y.k6j:y.pS3})})]}),T&&(0,C.jsx)(j.k,{color:"success",dismissible:!0,onClose:()=>E(""),children:T}),_&&(0,C.jsx)(j.k,{color:"danger",dismissible:!0,onClose:()=>q(""),children:_}),(0,C.jsx)("div",{className:"d-grid",children:(0,C.jsx)(g.Q,{color:"primary",type:"submit",children:e("register.submitButton")})})]})})})})})})})}},99597:(e,s,r)=>{r.d(s,{L:()=>a});var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=3181.8f8fe0f6.chunk.js.map